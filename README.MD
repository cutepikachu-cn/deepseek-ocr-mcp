# DeepSeek-OCR MCP Server

è¿™æ˜¯ä¸€ä¸ªåŸºäº FastMCP æ„å»ºçš„ Model Context Protocol (MCP) æœåŠ¡å™¨ï¼Œæ—¨åœ¨ä¸º LLMï¼ˆå¦‚ Claude Desktop, Cursor, Visual Studio Code ç­‰ï¼‰æä¾›è°ƒç”¨ DeepSeek-OCRï¼ˆè§†è§‰è¯­è¨€æ¨¡å‹ï¼‰çš„èƒ½åŠ›ã€‚

## ç‰¹æ€§

- ğŸ–¼ï¸ é«˜æ•ˆå›¾ç‰‡å¤„ç†ï¼šä»…æ”¯æŒ HTTP/HTTPS é“¾æ¥ æˆ– æœ¬åœ°æ–‡ä»¶è·¯å¾„ã€‚
  - æ³¨æ„ï¼šä¸ºäº†é¿å…æ¶ˆè€—å¤§é‡ Tokenï¼Œæœ¬å·¥å…·ä¸æ”¯æŒç›´æ¥ä¼ é€’ Base64 å­—ç¬¦ä¸²ã€‚
- ğŸ¯ å®˜æ–¹æç¤ºè¯é›†æˆï¼šå†…ç½® DeepSeek å®˜æ–¹æ¨èçš„ 5 ç§æ ‡å‡†åœºæ™¯æç¤ºè¯ã€‚
- ğŸ”’ å®‰å…¨é…ç½®ï¼šæ•æ„Ÿä¿¡æ¯ï¼ˆAPI Key, Base URLï¼‰ä»…é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ã€‚
- ğŸ“ Markdown å‹å¥½ï¼šé»˜è®¤æ¨¡å¼å®Œç¾æ”¯æŒ Markdown è¡¨æ ¼å’Œæ–‡æ¡£ç»“æ„æå–ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡ (å¿…é¡»)

è¯·ç¡®ä¿åœ¨è¿è¡Œç¯å¢ƒæˆ– `.env` æ–‡ä»¶ä¸­è®¾ç½®äº†ä»¥ä¸‹å˜é‡ï¼š

```bash
API_KEY=sk-xxxxxxxxxxxxxxxx
API_BASE=https://api.deepseek.com/v1
MODEL=deepseek-ocr
TEMPERATURE=0.0  # (å¯é€‰) é»˜è®¤ä¸º 0.0
```


3. Claude Desktop é…ç½®

```json
{
  "mcpServers": {
    "deepseek-ocr": {
      "command": "python",
      "args": ["/ç»å¯¹è·¯å¾„/to/your/deepseek_ocr_server.py"],
      "env": {
        "API_KEY": "ä½ çš„APIå¯†é’¥",
        "API_BASE": "[https://api.deepseek.com/v1](https://api.deepseek.com/v1)",
        "MODEL": "deepseek-chat",
        "TEMPERATURE": "0.0"
      }
    }
  }
}
```

## å·¥å…·ä½¿ç”¨è¯´æ˜

### æ ¸å¿ƒå‚æ•°
- image (å¿…å¡«):
    -âœ… è¿œç¨‹é“¾æ¥: https://example.com/doc.png
    -âœ… æœ¬åœ°è·¯å¾„: /Users/username/Desktop/scan.jpg (æœåŠ¡å™¨ä¼šè‡ªåŠ¨è¯»å–)
    - âŒ ä¸æ”¯æŒ Base64 å­—ç¬¦ä¸²ç›´æ¥è¾“å…¥
- scene (é€‰å¡«, é»˜è®¤ document):
    - document: æ–‡æ¡£è½¬ Markdown (æ¨è)
    - ocr_grounded: é€šç”¨ OCR
    - figure: å›¾è¡¨åˆ†æ
    - ocr_free: çº¯æ–‡æœ¬æå–
- detail (é€‰å¡«, é»˜è®¤ auto): å›¾ç‰‡ç»†èŠ‚æ¨¡å¼ (auto, low, high)ã€‚
- instruction: è‡ªå®šä¹‰æç¤ºè¯ (å¯é€‰)ã€‚

### ä½¿ç”¨ç¤ºä¾‹

åœºæ™¯ 1ï¼šæœ¬åœ°æ–‡ä»¶è¯†åˆ«

```
"å¸®æˆ‘è¯†åˆ«æ¡Œé¢ä¸Šè¿™ä¸ªå‘ç¥¨çš„å†…å®¹ï¼š/Users/me/Desktop/invoice.png"
```

åœºæ™¯ 2ï¼šè¿œç¨‹è¡¨æ ¼è½¬ Markdown

```
"æŠŠè¿™ä¸ªåœ¨çº¿å›¾è¡¨è½¬æˆæ•°æ®è¡¨ï¼šhttps://www.google.com/search?q=https://example.com/chart.png"
```